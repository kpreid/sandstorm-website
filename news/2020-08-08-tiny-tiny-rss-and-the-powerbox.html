<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Updating Tiny Tiny RSS, Moving Sandstorm's Security Model Forward. - Sandstorm Blog</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:title" content="Updating Tiny Tiny RSS, Moving Sandstorm's Security Model Forward.">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://sandstorm.io/images/sandcat.png">
    <meta property="og:url" content="https://sandstorm.io/news/2020-08-08-tiny-tiny-rss-and-the-powerbox">
    <meta property="og:description"
        content="Real-time collaborative web productivity suite behind the firewall.">
    <link rel="stylesheet" type="text/css" href="/style.css">
    <link rel="alternate" type="application/rss+xml" title="Sandstorm.io Blog" href="/feed.xml">
  </head>



  <body id="blog">
    <nav>
      <a href="/">Sandstorm.io</a>
      <a href="/get">Get Sandstorm</a>
      <a href="/features">Features</a>
      <a href="/how-it-works">Technology</a>
      <a href="/news/">Blog</a>
      <a href="https://docs.sandstorm.io">Docs</a>
      <a href="https://github.com/sandstorm-io/sandstorm">Code</a>
      <a href="/community">Community</a>
      <a href="/about">About</a>
      <!-- TODO: search -->
    </nav>

    <header>
  <div class="sand">
    <h1>Sandstorm Blog</h1>
  </div>
</header>

<div class="post-list">

<div class="sidebar">
  <ul class="socialmedia">
    <li><a class="twitter" href="https://twitter.com/SandstormIO">Twitter</a>
    <li><a class="facebook" href="https://www.facebook.com/sandstorm.io" target="blank">Facebook</a>
    <li><a class="github" href="https://github.com/sandstorm-io/sandstorm" target="_blank">Github</a>
  </ul>

  <div class="more">
    <a href="/get">
      Sandstorm is a self-hostable web productivity suite.
      <span class="selfhost" href="/install">Host your own</span>
    </a>

    <h3>Recommended Posts</h3>
    <ul>
      <li><a href="/news/2014-07-21-open-source-web-apps-require-federated-hosting">Open Source Web Apps Aren't Viable; Let's Fix That</a></li>
      <li><a href="/news/2016-02-29-security-track-record">Sandstorm's security track record, and what it means for self-hosting</a></li>
      <li><a href="/news/2016-08-17-decentralization-is-about-diversity">Decentralization is about diversity</a></li>
      <li><a href="/news/2016-01-22-8-new-open-source-apps.html">8 New open source self-hostable apps</a></li>
      <li><a href="/news/2016-04-06-sandstorm-for-work">Sandstorm for Work Beta: LDAP, SAML, organization management</a></li>
      <li><a href="/news/2016-02-05-app-author-publicity-oasis">Free publicity for your indie web app, and free Oasis service for you</a></li>
      <li><a href="/news/2015-10-01-free-ssl-certificates.html">Free, automated SSL certificates for Sandstorm self-hosters</a></li>
      <li><a href="/news/2014-08-19-why-not-run-docker-apps.html">Why doesn't Sandstorm just run Docker apps?</a></li>
      <li><a href="/news/2015-05-05-delegation-is-the-cornerstone-of-civilization.html">Understand the Sandstorm sharing model</a></li>
    </ul>

    <h3>Further Reading</h3>
      <ul>
        <li><a href="/how-it-works">How Sandstorm Works</a></li>
        <li><a href="http://docs.sandstorm.io">Sandstorm Documentation</a></li>
        <li><a href="/install">How to install Sandstorm</a></li>
      </ul>
  </div>
</div>


<nav class="pagination top">
  <a class="newer" href="/news/" title="All posts">&laquo; All posts</a>
</nav>

<section>
  <h2>Updating Tiny Tiny RSS, Moving Sandstorm's Security Model Forward.</h2>
  <p class="post-details">By <a href="https://github.com/zenhack">Ian Denhardt</a>
    
    - 08 Aug 2020
  <p>This past week I updated the Sandstorm package for Tiny Tiny RSS. In
addition to updating to the latest upstream code, I’ve also made some
improvements to the package’s integration with Sandstorm. In particular:</p>

<ul>
  <li>The package now uses Sandstorm’s scheduling API (merged earlier this
year) to check for updates periodically even when the user isn’t
actively using the app. This was a major pain point for some users,
as it meant that if they didn’t check their feeds often enough, they
could miss articles.</li>
  <li>I’ve migrated the package away from using Sandstorm’s deprecated
HackSession interface for fetching feeds, and over to using the
Powerbox.</li>
</ul>

<p>The latter of these is critical to enable Sandstorm’s goal of full
network isolation for applications. It has always been the intent that
apps running on a Sandstorm server should not be able to phone home or
otherwise access the network without the user’s consent, but early on
the team implemented some temporary hacks that apps could make use of
until Sandstorm’s Powerbox API was actually available. Now it is, so
it’s time to migrate existing code away from these legacy APIs. Once
we’ve done that, we can remove the holes, and finally deliver on
Sandstorm’s security promise of network isolation for server code.</p>

<p>In order to make this happen, I wrote <a href="https://github.com/zenhack/powerbox-http-proxy">a daemon</a> that runs inside of
the grain, intercepting HTTP traffic and making powerbox requests for
access to the relevant hosts on-demand. The daemon is re-usable and
could be used as a quick way to port other existing apps that have
legitimate need to access a variety of different hosts at runtime,
which are not known in advance.</p>

<p>Unfortunately, this transition does come with some growing pains, and
there are a few things users should be aware of when upgrading.</p>

<p>First, since existing TTRSS grains will already have subscriptions to
feeds that they haven’t requested access to, the first time you start
the new version of TTRSS you’ll see a flood of requests for all of your
existing feeds. This is annoying, but fortunately after this initial
setup you’ll only need to grant access when adding new feeds.</p>

<p>Second, a more serious limitation of the current implementation is that
it makes it impossible to add new feeds through mobile &amp; desktop clients
– at least without also having a browser window open somewhere. This is
because, without the Sandstorm UI open, Sandstorm has no way of actually
showing a user the powerbox dialog. We’d like to find ways to improve
on this.</p>

<p>Finally, while the daemon is exciting for app packagers, in that it can
make basic porting of apps not designed for Sandstorm much quicker,
the integration is imperfect, resulting in a sub-par UX: as it stands,
users will see an extra prompt (or two) when first subscribing to a
feed.</p>

<p>Maintaining security while avoiding annoying extra prompts like this <a href="https://sandstorm.io/news/2015-06-10-network-access-permission-android-vs-sandstorm">is
one of the design goals</a> of Sandstorm’s powerbox, but to fully take
advantage of it will require more invasive changes to TTRSS; rather than
prompting the user for a feed URL and then trying to fetch it (causing
the daemon to request access), it should just ask Sandstorm for a feed
directly. If you’re an enterprising PHP hacker and want to help make
this happen, get in touch on the <a href="https://groups.google.com/forum/#!forum/sandstorm-dev">sandstorm-dev mailing list</a> or the
#sandstorm IRC channel on libera.chat.</p>


</section>

</div>


    <footer>
      <ul>
        <li>
          <h3><a href="/get">Get Sandstorm</a></h3>
          <ul>
            <li><a href="/get">Self-host Sandstorm</a>
            <li><a href="https://github.com/sandstorm-io/sandstorm">Source code (GitHub)</a>
            <li><a href="/go/education">For educators</a></li>
          </ul>
        </li>
        <li>
          <h3><a href="/features">Features</a></h3>
          <ul>
            <li><a href="https://apps.sandstorm.io">App Market</a></li>
            <li><a href="/features">Core features</a>
            <li><a href="/features#security">Security features</a>
            <li><a href="/business#scale-features">Scale-out</a>
            <li><a href="/business">For organizations</a>
            <li><a href="/developer">For developers</a>
          </ul>
        </li>
        <li>
          <h3><a href="https://docs.sandstorm.io">Documentation</a></h3>
          <ul>
            <li><a href="https://docs.sandstorm.io/en/latest/using/">How to use Sandstorm</a>
            <li><a href="https://docs.sandstorm.io/en/latest/developing/">Developer Hub</a>
            <li><a href="https://docs.sandstorm.io/en/latest/administering/">Administering &amp; installing</a>
            <li><a href="https://docs.sandstorm.io/en/latest/using/security-practices/">Security</a>
          </ul>
        </li>
        <li>
          <h3><a href="/how-it-works">Technology (How it Works)</a></h3>
          <ul>
            <li><a href="/how-it-works#grains">Fine-grained object containers</a>
            <li><a href="/how-it-works#capabilities">Capability-based security</a>
          </ul>
        </li>
        <li>
          <h3><a href="/community">Community</a></h3>
          <ul>
            <li><a href="/news">Sandstorm Blog</a>
            <li><a href="/community#connect-with">Connect with us</a>
            <li><a href="/community#helpothers">Help others</a>
            <li><a href="/community#helpproject">Help the project</a>
          </ul>
        </li>
        <li>
          <h3><a href="/about">About</a></h3>
          <ul>
            <li><a href="/about">Sandstorm story</a>
            <li><a href="/about#team">Team</a>
            <li><a href="/about#advisors">Advisors</a>
            <li><a href="mailto:contact@sandstorm.io">Contact</a>
          </ul>
        </li>
        <li>
          <h3>Connect</h3>
          <ul id="socialmedia-small">
						<li><a class="twitter" href="https://twitter.com/SandstormIO"></a>
						<li><a class="facebook" href="https://www.facebook.com/sandstorm.io" target="blank"></a>
						<li><a class="github" href="https://github.com/sandstorm-io/sandstorm" target="_blank"></a>
  			</ul>
        </li>
        <li>
          <ul>
            <li><a href=""></a>
          </ul>
        </li>
      </ul>
      <p>This page was hand-crafted using only the finest web technologies.
    </footer>

    <!-- livereload, for development -->
    <script type="text/javascript">
      if (document.location.hostname === "localhost") {
        document.write('<script src="http://localhost:35729/livereload.js"></scr' + 'ipt>');
      }
    </script>
  </body>
</html>
